<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<?asciidoc-toc?>
<?asciidoc-numbered?>

<book lang="en">
<bookinfo>
    <title>SUSE CaaS Platform Cluster Installation Process</title>
    <author>
        <firstname>Bryan Gartner, SUSE &lt; Bryan.Gartner@SUSE.com &gt;</firstname>
    </author>
    <authorinitials>{</authorinitials>
<orgname>SUSE</orgname>
</bookinfo>
<preface>
<title></title>
<simpara>This process outlines how to install SUSE CaaS Platform 4.0 on a set of available virtual machines to create a solution cluster in the HPE Customer Innovation Center.</simpara>
<note><simpara>This document only cites steps, values or inputs which need to be changed from the default, documented process. It also assumes this environment&#8217;s respective, automated installation process was used and that the quantity nodes, for each role type, are configured to use the correct repositories and are fully patched and updated.</simpara></note>
<tip><simpara>Refer to respective <ulink url="https://documentation.suse.com/suse-caasp/4.0/single-html/caasp-deployment/">SUSE CaaS Platform 4.0 Deployment Guide</ulink> for more complete details.</simpara></tip>
</preface>
<chapter id="_install_the_solution_cluster">
<title>Install the solution cluster</title>
<simpara>After connecting via the VPN and logging into the jumphost, visit the vSphere Web Client, then follow the steps below:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>
Right click on the respective VM "adm.k8s" <emphasis>Open Remote Console</emphasis>
</simpara>
</listitem>
<listitem>
<simpara>
Login to the node as the "geeko" user
</simpara>
<itemizedlist>
<listitem>
<simpara>
Setup the necessary <ulink url="https://https://documentation.suse.com/suse-caasp/4.0/single-html/caasp-deployment/#deployment.preparations">Basic SSH Key Configuration</ulink>
</simpara>
</listitem>
<listitem>
<simpara>
Ensure the "geeko" user has <ulink url="https://https://documentation.suse.com/suse-caasp/4.0/single-html/caasp-deployment/#_">sudo access</ulink> on all the cluster ndoes
</simpara>
</listitem>
<listitem>
<simpara>
Then proceed with:
</simpara>
<itemizedlist>
<listitem>
<simpara>
"Intializing the Cluster" process via
</simpara>
<screen>skuba cluster init --control-plane mstr.k8s.suse.cic my-cluster</screen>
<itemizedlist>
<listitem>
<simpara>
"Cluster Bootstrap" via
</simpara>
<screen>cd my-cluster

skuba node bootstrap --user geeko --sudo --target mstr1.k8s.suse.cic mstr1.k8s

skuba node join --role worker --user geeko --sudo --target wrkr1.k8s.suse.cic wrkr1.k8s
skuba node join --role worker --user geeko --sudo --target wrkr2.k8s.suse.cic wrkr2.k8s
skuba node join --role worker --user geeko --sudo --target wrkr3.k8s.suse.cic wrkr3.k8s</screen>
</listitem>
<listitem>
<simpara>
Validate the cluster, via
</simpara>
<screen>skuba cluster status</screen>
<simpara>And with the steps in <ulink url="https://documentation.suse.com/suse-caasp/4.0/single-html/caasp-deployment/#_using_kubectl">"Using kubectl"</ulink>.</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</listitem>
</orderedlist>
<simpara>At this point, the SUSE CaaS Platform solution cluster should be up, running and functional.</simpara>
</chapter>
</book>
