<<<

include::./varsLab1.adoc[]

== Start Your Engines (precede with slides, 5 minutes)
Create a simple application deployment (with multiple containers) providing an end-to-end service to show the value of Kubernetes orchestration.

Goals / Objectives::
Launch a complete Wordpress instantiation ( 5-15 minutes)

Process::
Login to your system ( user : {hostUID} , password: {hostPW} )
+
* From the graphical user interface application dock, launch a Terminal
+
[[img-env-terminal]]
.Environment Terminal Launch
image::env-terminal.png[env-terminal, 640, 480]
+
* In the terminal window, login to the demo environment by typing
+
[subs="attributes"]
----
ssh {clusterUID}@{clusterAdmIP}
----
+
using the password "*{clusterPW}*"
+
NOTE: All of the following process steps should be completed while logged into this demo environment as noted above!
+
* Exercise - Launch a complete application
+
[[img-Lab1-launch-app]]
.Application Launch Environment
image::Lab1-launch-app.png[Lab1-launch-app, 640, 480]
+
. From the command prompt, type
+
[subs="attributes"]
----
kubectl apply -k "{Lab1-dir}"
----
+
 **QUIZ**
 a) How many lines of output resulted from this command?
+
. Get a glimpse of some of each of the components that you just launched, via
+
[subs="attributes"]
----
kubectl get secrets
kubectl get services
kubectl get deployments
kubectl get persistentvolumeclaims
----
+
 **QUIZ**
 a) How many services are running (besides kubernetes)? 
+
. Interact with your deployed service, via
+
[subs="attributes"]
----
kubectl port-forward service/{Lab1-service} {Lab1-portLocal}:{Lab1-portPod}
Ctrl-z
bg
w3m {Lab1-URL}:{Lab1-portLocal}/
----
+
. Now, stop all of these deployed components, via
+
[subs="attributes"]
----
fg
Ctrl-c
kubectl delete -k "{Lab1-dir}"
----
+
And validate that they are gone, via
+
[subs="attributes"]
----
kubectl get services
----
+
IMPORTANT: *_Congratulations !_* Now you can see the initial appeal of what Kubernetes offers, by simply leveraging the predominant CLI tool, `kubectl` ( which interfaces the Kubernetes cluster manager ).
+
// NOTE: The example commands provided in this exercise used the full syntax and option names. In later exercises we will show the alternatives and other ways to launch, interact with and view what is running.
+
* Optional / Advanced Exercise - If you have some spare time, or are curious about the commands used or what was deployed, try:
+
[subs="attributes"]
----
man kubectl
kubectl --help
man kubectl-apply
man kubectl-get
more {Lab1-dir}/*.yaml
----

Knowledge Check::
Initial introduction to `kubectl` and leveraging it to
+
* deploy multiple microservices with a single command
* get the status of those microservices, using a variation of that single command
* destroy the running set of microservices, again using a variation of that single command
// <1> As a reference, see https://kubernetes.io/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/[Sample].

